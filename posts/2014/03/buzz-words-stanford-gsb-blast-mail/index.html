<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>the Good the Bad and the Curious</title>
	<meta name="description" content="">
	<meta name="author" content="Herbert Yang">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="../../../../theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="../../../../theme/bootstrap.min.css" rel="stylesheet">
	<link href="../../../../theme/local.css" rel="stylesheet">
	<link href="../../../../theme/pygments.css" rel="stylesheet">

    <!-- Feeds -->

<script>var _gaq=[['_setAccount','UA-714838-2'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>
<script type="text/javascript">
	var disqus_identifier = "posts/2014/03/buzz-words-stanford-gsb-blast-mail/";
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = 'http://goodbadcurious.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
</head>
<body>
<a href="http://github.com/zire/"><img style="position: absolute; top: 39px; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub" /></a>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="../../../../">the Good the Bad and the Curious</a>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
	        <h3>Site</h3>
	        <ul>
	          <li><a href="../../../..">Welcome</a></li>
	          <li><a href="../../../../archives.html">Archives</a></li>
	          <li><a href="../../../../tags.html">Tags</a></li>
	          <li><a href="../../../../pages/about-this-site.html">About This Site</a></li>
	        </ul>
			<h3>Columns</h3>
			<ul>
				<li ><a href="../../../../category/amusement">Amusement</a></li>
				<li ><a href="../../../../category/business">Business</a></li>
				<li ><a href="../../../../category/journey">Journey</a></li>
				<li ><a href="../../../../category/pages">Pages</a></li>
				<li ><a href="../../../../category/photography">Photography</a></li>
				<li class="active" ><a href="../../../../category/stanford">Stanford</a></li>
				<li ><a href="../../../../category/tech">Tech</a></li>
				<li ><a href="../../../../category/theory">Theory</a></li>
				<li ><a href="../../../../category/travel">Travel</a></li>
			</ul>
			<h3>Links</h3>
			<ul>
			</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
				<li><a href="https://github.com/zire">Github</a></li>
				<li><a href="https://twitter.com/herbertyang">Twitter</a></li>
				<li><a href="http://www.linkedin.com/in/herbertyang">Linkedin</a></li>
				<li><a href="http://instagram.com/zire">Instagram</a></li>
				<li><a href="http://weibo.com/zire">Weibo</a></li>
			</ul>
			</div>
		</div>
	  </div>
	  <div class="content">
	<div class='article'>
		<div class="page-header"><h1>Buzz Words from Stanford GSB BLAST Mail</h1></div>
		<div class="well small">Permalink: <a class="more" href="../../../../posts/2014/03/buzz-words-stanford-gsb-blast-mail/">2014-03-21 12:52:00</a> in <a href="../../../../category/stanford">Stanford</a>
tags: <a href="../../../../tag//"></a> </div>
		<div><p>This program aims to analyze the most common buzz words from Stanford
Graduate School of Business (GSB)'s BLAST mailing list, which is
subscribed by all GSB students (MBA, MSx and PhD) and used heavily by
the student community to broadcast news, seeking help, etc. The idea is
similar to Google Keyword Trend, except that it's applied to a very
specific environment and audience.</p>
<p><img src="../../../../images/buzzGSB.png" alt="Buzz Word from Stanford GSB" width="800px"></p>
<p>The program is written in Python 2.7.5 and <a href="https://github.com/zire/buzzInStanfordGSB">the source code is on Github</a>.</p>
<p>Steps:</p>
<ol>
<li>
<p>Download all the BLAST emails</p>
<p>Fortunately Google provides a very handy Datatool to download emails
with specific labels. It's available from the Account Settings page.
This archive has emails from 2012 (I recovered them from Trash), 2013,
and 2014. Emails in 2012 and 2013 were not preserved universally and
consistently so they will not be part of this analysis. Emails in 2014
are of better quality though I'm sure I've missed/deleted some BLAST
messages already. Going forward I will keep all the BLAST emails and the
data quality will be considerably better in more recent update</p>
</li>
<li>
<p>Extract emails and dates from the email archive</p>
<p>Google archives Gmail messages in mbox format - one single large file.
Python's mailbox.mbox library provides an effective way to extract
contents from it.</p>
<div class="highlight"><pre><span class="n">Python</span> <span class="mi">1</span><span class="n">_mbox2csv</span><span class="p">.</span><span class="n">py</span>
</pre></div>


<p>There are three steps that need to be performed here:</p>
<ol>
<li>
<p>figure out where is the email body with get_payload()</p>
<p>It turns out that all the BLAST emails are of multipart (so get_payload() will return a list, not a string). The email body is hidden in the first part of the first part in a message from mbox (quite nested).</p>
</li>
<li>
<p>clean up the date field</p>
<p>The raw date field needs clean-up. It's not in the standard ISO format
and the day field is not zero-paddled. Datetime.strptime is used to deal
with it. Eventually a raw date like "5 Nov 2013" is converted into
"20131105" (YYYYMMDD) for easy sorting in the next step.</p>
</li>
<li>
<p>sort data by date</p>
<p>Self-explanatory. After this program is run, a cleaned up email archive
will be created in csv format with only date and email body information,
and is sorted by date.</p>
</li>
</ol>
</li>
<li>
<p>Run the word frequency analysis</p>
<div class="highlight"><pre><span class="n">Python</span> <span class="mi">2</span><span class="n">_wordcount</span><span class="p">.</span><span class="n">py</span>
</pre></div>


<p>After all the maneuvers to get the data into the right format, the real
crunching on word frequency is quite easy relatively speaking. The true
magic that embodies both science and art is the exception list of words
to ignore (words_to_ignore). A lot of time was spent to grow this list
so that all the un-informational words are filtered out such as "when",
"where", "to".. etc. There are A LOT of those.</p>
<p>It's only after filtering out those exception words, the real buzzwords
for Stanford GSB will float to the surface, as you can see from above.</p>
</li>
</ol>
<p>Do they reveal something useful? Maybe, but I'm not sure. Maybe I just
need to continue to tinker with the exception word list to make more
sense out of it.</p></div>
		<div>
			<h2>Comments</h2>
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="herbertyang">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
<div id="disqus_thread"></div>		<div>
	</div>	
		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; Herbert Yang</p>
		</footer>
	  </div>

	</div>
</body>
</html>